


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A modern CSS selector library for Beautiful Soup.">
      
      
        <link rel="canonical" href="https://facelessuser.github.io/soupsieve/differences/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.0rc2">
    
    
      
        <title>Beautiful Soup Differences - Soup Sieve</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.97c3fac0.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.31180ff2.min.css">
      
      
        
        
        <meta name="theme-color" content="#ab47bc">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/pymdownx-extras/extra-cdbd1b995a.css">
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="purple" data-md-color-accent="purple">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    
      
      <a href="#beautiful-soup-differences" class="md-skip" data-md-component="skip">
        Skip to content
      </a>
    
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <a href="https://facelessuser.github.io/soupsieve" title="Soup Sieve" aria-label="Soup Sieve" class="md-header-nav__button md-logo">
      
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>
      
    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis md-ellipsis">
        
          <span class="md-header-nav__topic">
            Soup Sieve
          </span>
          <span class="md-header-nav__topic">
            
              Beautiful Soup Differences
            
          </span>
        
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="reset" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/facelessuser/soupsieve/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href=".." class="md-tabs__link md-tabs__link--active">
          Usage
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../selectors/" class="md-tabs__link">
          CSS Selectors
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../about/contributing/" class="md-tabs__link">
          About
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://facelessuser.github.io/soupsieve" title="Soup Sieve" aria-label="Soup Sieve" class="md-nav__button md-logo">
      
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>
      
    </a>
    Soup Sieve
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/facelessuser/soupsieve/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
    
    <label class="md-nav__link" for="nav-1">
      Usage
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Soup Sieve" class="md-nav__link">
      Soup Sieve
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq/" title="F.A.Q." class="md-nav__link">
      F.A.Q.
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Beautiful Soup Differences
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Beautiful Soup Differences" class="md-nav__link md-nav__link--active">
      Beautiful Soup Differences
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#attribute-values" class="md-nav__link">
    Attribute Values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#css-identifiers" class="md-nav__link">
    CSS Identifiers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relative-selectors" class="md-nav__link">
    Relative Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#out-of-scope-selectors" class="md-nav__link">
    Out of Scope Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selected-element-order" class="md-nav__link">
    Selected Element Order
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      CSS Selectors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        CSS Selectors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../selectors/" title="General Details" class="md-nav__link">
      General Details
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selectors/basic/" title="Basic Selectors" class="md-nav__link">
      Basic Selectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selectors/combinators/" title="Combinators and Lists" class="md-nav__link">
      Combinators and Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selectors/pseudo-classes/" title="Pseudo Classes" class="md-nav__link">
      Pseudo Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selectors/unsupported/" title="Non-Applicable Pseudo Classes" class="md-nav__link">
      Non-Applicable Pseudo Classes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      About
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/contributing/" title="Contributing & Support" class="md-nav__link">
      Contributing &amp; Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/development/" title="Development" class="md-nav__link">
      Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#attribute-values" class="md-nav__link">
    Attribute Values
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#css-identifiers" class="md-nav__link">
    CSS Identifiers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relative-selectors" class="md-nav__link">
    Relative Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#out-of-scope-selectors" class="md-nav__link">
    Out of Scope Selectors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selected-element-order" class="md-nav__link">
    Selected Element Order
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/facelessuser/soupsieve/tree/master/docs/src/markdown/differences.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="beautiful-soup-differences">Beautiful Soup Differences<a class="headerlink" href="#beautiful-soup-differences" title="Permanent link"></a></h1>
<p>Soup Sieve is the official CSS "select" implementation of Beautiful Soup 4.7.0+. While the inclusion of Soup Sieve fixes
many issues and greatly expands CSS support in Beautiful Soup, it does introduce some differences which may surprise
some who've become accustom to the old "select" implementation.</p>
<p>Beautiful Soup's old select method had numerous limitations and quirks that do not align with the actual CSS
specifications. Most are insignificant, but there are a couple differences that people over the years had come to rely
on. Soup Sieve, which aims to follow the CSS specification closely, does not support these differences.</p>
<h2 id="attribute-values">Attribute Values<a class="headerlink" href="#attribute-values" title="Permanent link"></a></h2>
<p>Beautiful Soup was very relaxed when it came to attribute values in selectors: <code class="highlight"><span class="o">[</span><span class="nt">attribute</span><span class="o">=</span><span class="nt">value</span><span class="o">]</span></code>. Beautiful
Soup would allow almost anything for a valid unquoted value. Soup Sieve, on the other hand, follows the CSS
specification and requires that a value be a valid identifier, or it must be quoted. If you get an error complaining
about a malformed attribute, you may need to quote the value.</p>
<p>For instance, if you previously used a selector like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;[attr=</span><span class="si">{}</span><span class="s1">]&#39;</span><span class="p">)</span>
</code></pre></div>

<p>You would need to quote the value as <code>{}</code> is not a valid CSS identifier, so it must be quoted:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;[attr=&quot;</span><span class="si">{}</span><span class="s1">&quot;]&#39;</span><span class="p">)</span>
</code></pre></div>

<p>You can also use the <a href="../api/#soupsieveescape">escape</a> function to escape dynamic content:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">soupsieve</span>
<span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;[attr=</span><span class="si">%s</span><span class="s1">]&#39;</span> <span class="o">%</span> <span class="n">soupsieve</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">))</span>
</code></pre></div>

<h2 id="css-identifiers">CSS Identifiers<a class="headerlink" href="#css-identifiers" title="Permanent link"></a></h2>
<p>Since Soup Sieve follows the CSS specification, class names, id names, tag names, etc. must be valid identifiers. Since
identifiers, according to the CSS specification, cannot <em>start</em> with a number, some users may find that their old class,
id, or tag name selectors that started with numbers will not work. To specify such selectors, you'll have to use CSS
escapes.</p>
<p>So if you used to use:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;.2class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>You would need to update with:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.\32 class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Numbers in the middle or at the end of a class will work as they always did:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;.class2&#39;</span><span class="p">)</span>
</code></pre></div>

<h2 id="relative-selectors">Relative Selectors<a class="headerlink" href="#relative-selectors" title="Permanent link"></a></h2>
<p>Whether on purpose or on accident, Beautiful Soup used to allow relative selectors:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;&gt; div&#39;</span><span class="p">)</span>
</code></pre></div>

<p>The above is not a valid CSS selector according the CSS specifications. Relative selector lists have only recently been
added to the CSS specifications, and they are only allowed in a <code class="highlight"><span class="p">:</span><span class="nd">has</span><span class="o">()</span></code> pseudo-class:</p>
<div class="highlight"><pre><span></span><code><span class="nt">article</span><span class="p">:</span><span class="nd">has</span><span class="o">(&gt;</span> <span class="nt">div</span><span class="o">)</span>
</code></pre></div>

<p>But, in the level 4 CSS specifications, the <code>:scope</code> pseudo-class has been added which allows for the same feel as using
<code class="highlight"><span class="o">&gt;</span> <span class="nt">div</span></code>. Since Soup Sieve supports the <code>:scope</code> pseudo-class, it can be used to produce the same behavior as the
legacy select method.</p>
<p>In CSS, the <code>:scope</code> pseudo-class represents the element that the CSS select operation is called on. In supported
browsers, the following JavaScript example would treats <code>:scope</code> as the element that <code>el</code> references:</p>
<div class="highlight"><pre><span></span><code><span class="nx">el</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;:scope &gt; .class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Just like in the JavaScript example above, Soup Sieve would also treat <code>:scope</code> as the element that <code>el</code> references:</p>
<div class="highlight"><pre><span></span><code><span class="n">el</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;:scope &gt; .class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>In the case where the element is the document node, <code>:scope</code> would simply represent the root element of the document.</p>
<p>So, if you used to to have selectors such as:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;&gt; div&#39;</span><span class="p">)</span>
</code></pre></div>

<p>You can simply add <code>:scope</code>, and it should work the same:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;:scope &gt; div&#39;</span><span class="p">)</span>
</code></pre></div>

<p>While this will generally give you what is expected for the relative, descendant selectors, this will not work for
sibling selectors, and the reasons why are covered in more details in <a href="#out-of-scope-selectors">Out of Scope Selectors</a>.</p>
<h2 id="out-of-scope-selectors">Out of Scope Selectors<a class="headerlink" href="#out-of-scope-selectors" title="Permanent link"></a></h2>
<p>In a browser, when requesting a selector via <code>querySelectorAll</code>, the element that <code>querySelectorAll</code> is called on is
the <em>scoped</em> element. So in the following example, <code>el</code> is the <em>scoped</em> element.</p>
<div class="highlight"><pre><span></span><code><span class="nx">el</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;.class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>This same concept applies to Soup Sieve, where the element that <code>select</code> or <code>select_one</code> is called on is also the
<em>scoped</em> element. So in the following example, <code>el</code> is also the <em>scoped</em> element:</p>
<div class="highlight"><pre><span></span><code><span class="n">el</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;.class&#39;</span><span class="p">)</span>
</code></pre></div>

<p>In browsers, <code>querySelectorAll</code> and <code>querySelector</code> only return elements under the <em>scoped</em> element. They do not return
the <em>scoped</em> element itself, its parents, or its siblings. Only when <code>querySelectorAll</code> or <code>querySelector</code> is called on
the document node will it return the <em>scoped</em> selector, which would be the <em>root</em> element, as the query is being called
on the document itself and not the <em>scoped</em> element.</p>
<p>Soup Sieve aims to essentially mimic the browser functions such as <code>querySelector</code>, <code>querySelectorAll</code>, <code>matches</code>, etc.
In Soup Sieve <code>select</code> and <code>select_one</code> are analogous to <code>querySelectorAll</code> and <code>querySelector</code> respectively. For this
reason, Soup Sieve also only returns elements under the <em>scoped</em> element. The idea is to provide a familiar interface
that behaves, as close as possible, to what people familiar with CSS selectors are used to.</p>
<p>So while Soup Sieve will find elements relative to <code>:scope</code> with <code>&gt;</code> or <code>&nbsp;</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;:scope &gt; div&#39;</span><span class="p">)</span>
</code></pre></div>

<p>It will not find elements relative to <code>:scope</code> with <code>+</code> or <code>~</code> as siblings to the <em>scoped</em> element are not under the
<em>scoped</em> element:</p>
<div class="highlight"><pre><span></span><code><span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;:scope + div&#39;</span><span class="p">)</span>
</code></pre></div>

<p>This is by design and is in align with the behavior exhibited in all web browsers.</p>
<h2 id="selected-element-order">Selected Element Order<a class="headerlink" href="#selected-element-order" title="Permanent link"></a></h2>
<p>Another quirk of Beautiful Soup's old implementation was that it returned the HTML nodes in the order of how the
selectors were defined. For instance, Beautiful Soup, if given the pattern <code class="highlight"><span class="nt">article</span><span class="o">,</span> <span class="nt">body</span></code> would first return
<code class="highlight"><span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span></code> and then <code class="highlight"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span></code>.</p>
<p>Soup Sieve does not, and frankly cannot, honor Beautiful Soup's old ordering convention due to the way it is designed.
Soup Sieve returns the nodes in the order they are defined in the document as that is how the elements are searched.
This much more efficient and provides better performance.</p>
<p>So, given the earlier selector pattern of <code>article, body</code>, Soup Sieve would return the element <code class="highlight"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span></code> and then
<code class="highlight"><span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;</span></code> as that is how it is ordered in the HTML document.</p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: August 18, 2019
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../faq/" title="F.A.Q." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                F.A.Q.
              </div>
            </div>
          </a>
        
        
          <a href="../selectors/" title="General Details" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                General Details
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 - 2020 <a href="https://github.com/facelessuser">Isaac Muse</a>
<br><span class="md-footer-custom-text">emoji provided free by </span>
<a href="https://github.com/twitter/twemoji">Twemoji</a>

          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">
          MkDocs
        </a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/facelessuser" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="https://discord.gg/XBnPUZF" target="_blank" rel="noopener" title="discord.gg" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script>var __config={}</script>
    
    
      <script src="../assets/javascripts/vendor.b0b43276.min.js"></script>
      <script src="../assets/javascripts/bundle.65293e7c.min.js"></script><script id="__lang" type="application/json">
        {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}
      </script>
      <script>
        __material = initialize(Object.assign({
          url: {
            base: "..",
            worker: {
              search: "../assets/javascripts/worker/search.784c5235.min.js"
            }
          },
          features: ["tabs"]
        }, typeof __config !== "undefined" ? __config : {}))
      </script>
      
        <script src="../assets/pymdownx-extras/extra-52d8c68747.js"></script>
      
    
  </body>
</html>